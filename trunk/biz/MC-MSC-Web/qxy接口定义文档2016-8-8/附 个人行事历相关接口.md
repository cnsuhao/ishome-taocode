[toc]

## 附 个人行事历相关接口

>标签：接口\手机端接口

---
###  文档更新说明
> 更新时间：2016-08-03
> 新增个人行事历接口

###  接口调用说明
>个人行事历接口分为查询行事历，新增行事历，修改行事历和删除行事历


### 附.1 个人行事历接口部分
#### 附.1.1 个人行事历查询接口
>可查询某个教师的行事历，查询某天行事历
>需要token验证
``` json
Url:        /qxy/trip?tid=[tid]&date=[date]&page=[page]&size=[size]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - 'tid':      指定教师的id，可获取某个教师的行事历
    - 'date':     指定获取某一天的行事历
    - 'page':    分页编号，分页为0或者空时，返回全部数据
    - 'size':    每页数据条数，为0或空时，默认返回12条数据
    - 'token':    token
Response:
    - `status`：0->成功
                1->无效的栏目id
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
    "data": {
        "page":"2",
        "size":"12",
        "count":"20",
        "triplist":[
            {
                "tripId":"1",
                "content":"校园风采",              
                "date":"2016-8-9 00:00:00",            
                "teacher_name":"张老师"
            },
            {
				"tripId":"2",
                "content":"校园风采",              
                "date":"2016-8-9 00:00:00",            
                "teacher_name":"张老师"
            }
        ]
    }
}
```



#### 附.1.2 个人行事历新增接口

>需要token验证
``` json
Url:        /qxy/trip?token=[token]
Method:     POST
Header:     Content-type:application/json
Parameter:
    - 'termId':  学期id
    - 'date':    指定某一天
	- 'content':    行事历内容
    - 'token':     token
示例：
{
	"termId":"1",
	"content":"个人行事历"
	"date":"2016-8-9 00:00:00"
}

Response:
    - `status`：0->成功
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
    "data": {
        "info":"成功"
    }
}
```

#### 附.1.3 个人行事历修改接口
>只能修改自己的行事历，不能修改其他人的
>需要token验证
``` json
Url:        /qxy/trip?token=[token]
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'content':    行事历内容
    - 'tripId':    行事历id
    - 'token':     token
示例：
{
	"tripId":"1",               
	"content":"个人行事历"   
}

Response:
    - `status`：0->成功
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
	"data":{
		"info":"ok"
	}
}
```



#### 附.1.4 个人行事历删除接口
>需要token验证
``` json
Url:        /qxy/trip?token=[token]
Method:     DELETE
Header:     Content-type:application/json
Parameter:
    - 'token':     token
    - 'tripId':    #行程id
示例：
{
	"tripId":"2"
}

Response:
    - `status`：0->成功
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
	"data":{
		"info":"ok"
	}
}
```
