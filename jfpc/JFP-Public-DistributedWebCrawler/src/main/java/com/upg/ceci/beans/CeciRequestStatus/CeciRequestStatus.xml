<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE mapper
    PUBLIC '-//mybatis.org//DTD Dao 3.0//EN' 
    'http://mybatis.org/dtd/mybatis-3-mapper.dtd' >
<!-- 抓取地址访问状态 -->
<!-- 需要和DAO保持完全路径一致 -->
<mapper namespace='com.upg.ceci.beans.CeciRequestStatus.CeciRequestStatusDao'>
    <!-- 表字段信息  -->
    <sql id='tableColumns'>
        id,area_code,conn_status,last_conn_time,last_error_time,his_error_num,process_num,process_num_success
    </sql>

    <!-- 插入一条数据 -->
    <insert id='doInsert' parameterType='CeciRequestStatusDBO'>
        INSERT INTO ceci_request_status
          ( <include refid='tableColumns'/>) 
        VALUES 
          ( #{id},#{areaCode},#{connStatus},#{lastConnTime,jdbcType=TIMESTAMP},#{lastErrorTime,jdbcType=TIMESTAMP},#{hisErrorNum},#{processNum},#{processNumSuccess} )
    </insert>
    
    <!-- 修改一条数据 -->
    <update id='doUpdate' parameterType='CeciRequestStatusDBO'>
        UPDATE ceci_request_status SET id = id
            ,area_code = #{areaCode}
            ,conn_status = #{connStatus}
        ,last_conn_time = #{lastConnTime,jdbcType=TIMESTAMP}
        ,last_error_time = #{lastErrorTime,jdbcType=TIMESTAMP}
            ,his_error_num = #{hisErrorNum}
            ,process_num = #{processNum}
            ,process_num_success = #{processNumSuccess}
        WHERE area_code = #{areaCode} 
    </update>
 
    <!-- 查询一条数据  -->
    <select id='doRead' parameterType='CeciRequestStatusDBO' resultType='CeciRequestStatusDBO'>    	
        SELECT <include refid='tableColumns'/> FROM ceci_request_status WHERE 
            area_code = #{areaCode}
    </select>

</mapper>
