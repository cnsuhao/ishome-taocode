[toc]

## 附 个人行事历相关接口

>标签：接口\手机端接口

---
###  文档更新说明
> 更新时间：2016-08-03
> 新增个人行事历接口

###  接口调用说明
>个人行事历接口分为查询行事历，新增行事历，修改行事历和删除行事历


### 附.1 个人行事历接口部分
#### 附.1.1 个人行事历查询接口
>可查询某个教师的行事历，查询某天行事历
>需要token验证
``` json
Url:        /qxy/trip/teacher=[tid]&day=[date]&page=[page]&size=[size]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - 'teacher': 指定教师的id，可获取某个教师的行事历
    - 'day':     指定获取某一天的行事历
    - 'page':    分页编号，分页为0或者空时，返回全部数据
    - 'size':    每页数据条数，为0或空时，默认返回12条数据
Response:
    - `status`：0->成功
                1->无效的栏目id
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
    "data": {
        "page":"2",
        "size":"12",
        "count":"20",
        "triplist":[
            {
                "tripId":"1",
                "content":"校园风采",              
                "date":"1456789776",            
                "teacher_name":"张老师"
            },
            {
				"tripId":"2",
                "content":"校园风采",              
                "date":"1456789776",            
                "teacher_name":"张老师"
            }
        ]
    }
}
```



#### 附.1.2 个人行事历新增接口

>需要token验证
``` json
Url:        /qxy/trip/
Method:     POST
Header:     Content-type:application/json
Parameter:
    - 'tid':     指定教师的id
    - 'date':    指定某一天
	- 'content':    行事历内容
示例：
{
	"content":"个人行事历",
	"tid":"1",
	"date":"1456754556"
}

Response:
    - `status`：0->成功
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
    "data": {
        "tripId":"2"
    }
}
```

#### 附.1.3 个人行事历修改接口
>只能修改自己的行事历，不能修改其他人的
>需要token验证
``` json
Url:        /qxy/trip/
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'content':    行事历内容
    - 'tripId':    行事历id
示例：
{
	"tripId":"1",               #指定要修改的行事历id
	"content":"个人行事历"         #行事历内容
}

Response:
    - `status`：0->成功
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
	"data":{
		"info":"ok"
	}
}
```



#### 附.1.4 个人行事历删除接口
>可批量删除
>需要token验证
``` json
Url:        /qxy/trip/
Method:     DELETE
Header:     Content-type:application/json
Parameter:
    - 无
示例：
{
	"tripId":[2,3,4,5]   #行程id集合
}

Response:
    - `status`：0->成功
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": "0",
	"data":{
		"info":"ok"
	}
}
```
