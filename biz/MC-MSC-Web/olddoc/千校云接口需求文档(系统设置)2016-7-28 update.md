
[TOC]

## 千校云接口文档更新说明
> 2016-7-22：统一约定时间戳为标准时间格式；



## 9、系统设置功能接口说明

@(千校云)

> 标签： 接口 系统设置

---

### 文档更新说明
> 更新时间：2016-07-28

### 页面说明
 > 系统设置功能包括以下页面：密码修改页面、课程开设管理、班级设定、学校作息时间管理页面、年级标签管理、设备管理、权限管理，命名为：修改密码、课程管理、班级管理、课表作息时间、年级标签、设备管理、权限管理。

 > 密码修改页面为用户修改密码的页面，输入区域包括：原始密码和新密码。

 > 课程开设管理页面为本学校开设的课程列表和维护页面（可以修改课程名称，新增课程，删除课程和停用课程，停用的课程可以重新启用），课程列表相对较短（中小学不会有太多课程）故不考虑分页（接口依然提供分页功能）。

 > 班级开设设定页面为本学期开设的班级列表页面和新增班级管理页面以及修改班级标签的页面（可以删除，修改和新增班级，班级的显示采用标签完成），班级页面实现分页显示并可以通过接口获取更多的班级关联信息。

 > 学校作息时间管理页面为学校作息时间及对应班级采用的作息时间列表页面以及对应的班级关联作息时间模版的设置页面和学习作息时间模版列表选择页面，为了能管理学习作息时间模版，还有对应的作息时间模版新增，和作息时间模版详情列表页面，以及作息时间模版的新增设定页面。作息时间模版及每个模版对应的模版都不会太多内容，故不考虑分页处理。

> 年级标签管理设定该学校年级标签（系统管理员可以新增、删除、修改年级标签）。

> 设备管理设定该校rfid设备及设备报警查询（系统管理员可以新增、删除、修改rfid设备）。

> 权限管理设定学校管理员、普通教师访问后台页面权限，需补充页面及需求文档。


### 9.1 密码管理页面接口
#### 9.1.1 密码修改提交接口
> 密码管理修改提交接口提交了特定用户（教师）的密码，生效后原有密码失效

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/uppasswrod
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'oldpassword':           提交的旧密码，如""，加密方法待定
    - 'newpassword':           提交的新密码，如""，加密方法待定
    - 'token'：                token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df",
    "oldpassword":"3223222",
    "newpassword":"7888232"
}
Response:
    - `status`：0->ok
                1->无权限修改密码
                2->修改密码失败，旧密码不正确
                3->修改密码失败，新密码与旧密码一致
                4->修改密码失败，新密码强度不够
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
```

> **返回结果示例：**


``` json
{
    "status": 0,
    "info":ok
}
```

### 9.2 课程管理页面接口
#### 9.2.1学校课程查询接口
> 学校课程查询接口返回了学校当前设置的课程列表，不需要分页。为简单操作起见，课程设置时不关联学期，如果需要关联学期，则需要配置课程时需要按学期配置

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/course/type=[type]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
	- 'type'     ：type＝0，或者为空，仅仅返回有效数据，type＝1，返回全部数据
Response:
    - `status`：0->OK 
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use interface
    - `course`: 学校课程内容JSON
    - `count` : 学校课程总数
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "data": {
        "count":"3",
        "course": [
            {
                "course_id": "2",
                "course_n": "数学",
                "status": "1"   #正常 ＝ 0，停用 ＝ 1，当type＝1时才返回
            },
            {
                "course_id": "1",
                "course_n": "语文",
                "status": "0"   #正常 ＝ 0，停用 ＝ 1，当type＝1时才返回
            },
            {
                "course_id": "3",
                "course_n": "化学"
            }
        ]
    }
}
```
#### 9.2.2学校课程新增接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/addcourse
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'course_n'：   课程名字
    - 'token'：      token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df"，
	"course_n":"数学"
}
Response:
    - `status`：0->OK
                1->新增失败，无权使用
                2->新增失败，名字重复
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.2.3学校课程修改接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/upcourse
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'course_id'：   需要修改的课程id
    - 'course_n'：    需要修改的名称名称，仅在变更名字时有效
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df"，
	"course_id":"4",
    "course_n":"代数"
}
Response:
    - `status`：0->OK
                1->变更名称，名称不能为空
                2->无法删除，已经使用的课程无法删除
                3->已经停用的无法再次停用
                4->未停用的无法启用
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.2.4学校课程删除接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/delcourse
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'course_id'：   需要删除的课程id
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"course_id":"4"
}
Response:
    - `status`：0->OK
                1->删除失败，无权使用
                2->删除失败，无此编号
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.2.5学校课程停用（启用）接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/setcourse
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'course_id'：   需要删除的课程id
    - 'is_use':       0-启用；1-停用
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"course_id":"4",
	"is_use":"0",
}
Response:
    - `status`：0->OK
                1->停用/启用失败，无权使用
                2->停用/启用失败，无此编号
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

### 9.3. 班级设定页面接口
#### 9.3.1学校班级查询接口
> 学校班级查询接口返回了学校当前指定的学期上设置的班级列表，带分页请求，当page＝null时，返回全部的班级数据。

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/class/term=[]&grade=[]&name=[]&page=[]&cid=[]&tid=[]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - 'term_id'    ：查询的学期，如"2016-2017-1"
    - 'grade_id'   ：查询的年级
    - 'name'       ：查询的班级名字
    - 'page'       ：page为分页的页面值，当page为空时，返回所有数据，每页返回20条数 
    - 'cid'        ：班级id
    - 'tid'        ：教师id，获取全部的可不传tid，获取某个教师的需要传tid
Response:
    - `status`：0->OK 
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
    - `date`：学期年级班级内容JSON
    - `count`：总数
    - 'is_leader':是否为班主任，0-不是；1-是；
```

> **返回结果示例：**

``` json
{
    "staus": 0,
    "data":{
	    "page":"0",   #0-全部班级，其他为分页显示，每页20个班级
        "term":"2016-2017-1",
        "count":"2",
        "grade": [
            {
            "grade_n":"高一",
            "class":[
	            {
                "name":"一班",
                "cid":"234",
                "term":"2016-2017-1", 
                "grade_n":"高三",
                "create_time":"143928930494",
                "class_leader": [
                    {
                        "tid": "3434",
                        "tname": "张高丽",
                        "course_id": "1",
                        "course_n": "语文",
                        "is_leader":"1"
                    }
               ]
            },
            {
            "grade_n":"高二",
            "class":[
	            {
                "name":"一班",
                "cid":"234",
                "term":"2016-2017-1", 
                "grade_n":"高三",
                "create_time":"143928930494",
                "class_leader": [
                    {
                        "tid": "3434",
                        "tname": "张高丽",
                        "course_id": "1",
                        "course_n": "语文",
                        "is_leader":"1"
                    }
                 ]
             }   
     ]
}
```

#### 9.3.2学校班级新增接口
> 学校班级新增接口可以新增学校班级

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/addclass
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'term_id'：     当前学期ID
    - 'year'：        入学时间
    - 'count'：       班级数量
    - 'grade_id'：    年级标签id
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"term_id":"12",
    "year":"2016",
    "count": "3",
    "grade_id": "22"
}
Response:
    - `status`：0->is OK
                1->建立班级失败，无权使用
                2->建立班级失败，班级重复
                3->建立班级的学期已完结，无新增学期
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.3.3学校班级修改接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/upclass
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'term_id':      学期标识id，默认为当前学期
    - 'cid'：         需要修改的班级ID
    - 'grade_id'：    年级id
    - 'name'：        班级名字
    - 'year'：        入学年份
    - 'token'：       token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df",
    "term_id":"222",
    "cid":"1234",
    "grade_id":"12",   
    "name": "三班"，   ＃班级名字
    "year": "2016"
}
Response:
    - `status`：0->OK
                1->修改标签失败，标签为空，标签无效
                2->修改班级失败，班级已经使用无法删除
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.3.4学校班级删除接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/delclass
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'term_id':      学期标识id，默认为当前学期
    - 'cid'：         需要修改的班级ID
    - 'token'：       token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df",
    "term_id":"222",
    "cid":"1234",
}
Response:
    - `status`：0->OK
                1->删除失败，无权限
                2->删除失败，班级不存在
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```



####9.3.5学校班级班主任指定接口
> 班级班主任更新接口为更新特定班级的班主任老师数据。需要特别注意老师指定为班主任的之前，需要先把该班级其他老师的is_leader字段置为0，然后再把该教师的is_leader字段设为1，目的保证该班级只能有一个班主任；

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/upclassleader
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - `term_id`:      查询的学期，学期数据为必填数据，当学期为空时，缺省返回当前学期数据
    - `cid`：         特定的班级数据，cid为空返回所有数据
    - 'tid':          教师id
    - 'is_leader':    1-设为班主任
    - 'token'：       token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df",
    "term_id":"1",
    "cid":"234",
    "tid": "2334",
    "is_leader": "1" 
}
Response:
    - `staus`： 0->OK 
                1->指定班主任失败，无权限
                2->指定班主任失败，班级不存在
                10->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface
```

> **返回结果示例：**

``` json
{
    "staus": 0,
    "info":ok
}
```

### 9.4. 学校作息模版设置页面接口
#### 9.4.1 班级作息模版查询接口
> 班级作息模版查询接口返回了学校当前指定的每个班级使用的作息时间模版情况
 
>  需要使用Token验证查询者身份

``` json
Url:        /qxy/classwork/term=[]&grade=[]&name=[]&page=[]&cid=[]&tid=[]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - 'term_id'    ：查询的学期id，如果不传则为当前设置缺省学期
    - 'grade_id'   ：查询的年级
    - 'name'       ：查询的班级名字
    - 'page'       ：page为分页的页面值，当page为空时，返回所有数据，每页返回20条数 
    - 'cid'        ：班级id
    - 'tid'        ：教师id，获取全部的可不传tid，获取某个教师的需要传tid
Response:
    - `status`：0->OK 
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
    - `date`：学校班级作息模板内容JSON
    - `count`：总数
    - `work_id`：作息时间模板id
    - `work_n`：作息时间模板内容
 
```

> **返回结果示例：**

``` json
{
    "staus": 0,
    "data":{
	    "page":"0",   #0-全部班级，其他为分页显示，每页20条
        "term":"2016-2017-1",
        "count":"2",
        "grade": [
            {
            "grade_n":"高一",
            "class":[
	            {
                "name":"一班",
                "cid":"234",
                "term":"2016-2017-1", 
                "grade_n":"高三",
                "work_id":"15",
                "work_n":"作息时间模板名称",
                "create_time":"143928930494"
            },
            {
            "grade_n":"高二",
            "class":[
	            {
                "name":"一班",
                "cid":"234",
                "term":"2016-2017-1", 
                "grade_n":"高三",
                "work_id":"15",
                "work_n":"作息时间模板名称",
                "create_time":"143928930494"
	            }
            ]
           }   
     ]
  }
}
```
#### 9.4.2 班级作息模版新增接口
> 可以一次性给多个班级指定同一个模板，但是一个班只能对应一个作息时间模板
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/addclasswork
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - `term_id`:      查询的学期，学期数据为必填数据，当学期为空时，缺省返回当前学期数据
    - `cid`：         特定的班级数据，cid为空返回所有数据
    - 'work_id':      作息时间模板id
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"term_id":"12",
    "work_id": "3",
    "class":[
	{
		"cid": "13"
	},
	{
		"cid": "14"
	},
	{
		"cid": "15"
	}
  ]
}
Response:
    - `status`：0->is OK
                1->新增失败，无权使用
                2->新增失败，班级不存在
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```


#### 9.4.3 班级作息模版修改接口
> 需要使用Token验证查询者身份
> 一次只能对一个班级的作息模板进行修改

``` json
Url:        /qxy/upclasswork
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - `term_id`:      查询的学期，学期数据为必填数据，当学期为空时，缺省返回当前学期数据
    - `cid`：         特定的班级数据，cid为空返回所有数据
    - 'work_id':      作息时间模板id
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"term_id":"12",
    "cid":"16",
    "work_id": "3"
}
Response:
    - `status`：0->is OK
                1->修改失败，无权使用
                2->修改失败，班级不存在
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```


#### 9.4.4 班级作息模版删除接口
> 需要使用Token验证查询者身份
> 可以一次性删除多个班级的作息时间模板
``` json
Url:        /qxy/delclasswork
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - `term_id`:      查询的学期，学期数据为必填数据，当学期为空时，缺省返回当前学期数据
    - `cid`：         特定的班级数据，cid为空返回所有数据
    - 'work_id':      作息时间模板id
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"term_id":"12",
    "work_id": "3",
     "class":[
	{
		"cid": "13"
	},
	{
		"cid": "14"
	},
	{
		"cid": "15"
	}
  ]
}
Response:
    - `status`：0->is OK
                1->删除失败，无权使用
                2->删除失败，班级不存在
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```


#### 9.4.5 学校作息模版查询接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/schoolwork/token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - 无    ：
Response:
    - `status`：0->OK 
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
    - `schoolwork`：学校作息模版JSON
    - `count`：总数
```

> **返回结果示例：**

``` json
{
    "staus": 0,
    "data":{
        "count":"2",
        "schoolwork": [
            {
                "work_id":"124",
                "work_name":"普通班作息模版",
                "count":"2",
                "create_time":"143928930494",
                "work_rule": [
	                {
						"worke_rule_id": "1",
						"rule_name": "第一节课",
                        "rule_stage": "早晨",
                        "start_time": "07:00",
                        "end_time": "08:00"
					},
					{
						"worke_rule_id": "2",
						"rule_name": "第二节课",
                        "rule_stage": "早晨",
                        "start_time": "09:00",
                        "end_time": "10:00"
					}
                 ]

           },
            {
                "work_id":"123",
                "work_name":"毕业班作息模版",
                "count":"4",
                "create_time":"143928930494",
                "work_rule": [
	                {
						"worke_rule_id": "1",
						"rule_name": "第一节课",
                        "rule_stage": "早晨",
                        "start_time": "07:00",
                        "end_time": "08:00"
					},
					{
						"worke_rule_id": "2",
						"rule_name": "第二节课",
                        "rule_stage": "早晨",
                        "start_time": "09:00",
                        "end_time": "10:00"
					}
                 ]

           }
          
        ]
    }
}
```

#### 9.4.6 学校作息模版新增接口
> 学校作息模版新增接口可以新增学校作息模版

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/addwork
Method:     PUT
Header:     Content-type:application/json
Parameter:
	- 'work_name'：   作息时间模版名称
	- 'token'：       token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df"，
    "work_name":"高中毕业班作息"
}
Response:
    - `status`：0->OK
                1->建立模版失败，无权使用
                2->建立模版失败，名称重复
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.4.7 学校作息模版修改接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/upwork
Method:     PUT
Header:     Content-type:application/json
Parameter:
	- 'work_id'：     作息时间模版id
	- 'work_name'：   作息时间模版名称
	- 'token'：       token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df"，
    "work_id":"111"
    "work_name":"高中毕业班作息"
}
Response:
    - `status`：0->OK
                1->更新模版失败，无权使用
                2->更新模版失败，名称重复
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```


#### 9.4.8 学校作息模版删除接口
> 学校作息模版删除接口可以删除学校作息模版，删除之前需要检查是否被应用到班级中，如果有则不能删，如果没有可以删除；

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/delwork
Method:     PUT
Header:     Content-type:application/json
Parameter:
	- 'work_id'：     作息模版id
	- 'token'：       token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df"，
    "work_id":"123"
}
Response:
    - `status`：0->OK
                1->删除模版失败，无权使用
                2->删除模版失败，无此模版编号
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.4.9 作息模版详情新增接口
> 作息模版详情新增接口可以新增指定模版的详细条目

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/addworkrule
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'work_id':       需要新增详情对应的模版编号
    - 'rule_name'：    新增详情的名称
    - 'rule_stage'：   新增详情对应的时间段
    - 'start_time'：   新增详情对应的起点时间
    - 'end_time'：     新增详情对应的结束时间
    - 'token'：       token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"work_id":"1234",
    "rule_name":"早自习一",
    "rule_stage":"0",   ＃0-早晨 1-上午 2-中午 3-下午 4-傍晚 5-夜间
    "start_time":"07:00",
    "end_time":"08:00"
}
Response:
    - `status`：0->OK
                1->新增详情失败，无调用权利
                2->新增详情失败，无对应的work_id
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
    - 'work_rule_id'：返回插入的详情记录对应的id
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```
#### 9.4.10 学校作息模版修改接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/addworkrule
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'work_id':       需要新增详情对应的模版编号
    - 'rule_name'：    新增详情的名称
    - 'rule_stage'：   新增详情对应的时间段
    - 'start_time'：   新增详情对应的起点时间
    - 'end_time'：     新增详情对应的结束时间
    - 'token'：        token
示例：
{
	"token":"fcc277636dea80d3d298df9465795a875e6eb9df",
	"work_id":"1234",
    "rule_name":"早自习一",
    "rule_stage":"0",   ＃0-早晨 1-上午 2-中午 3-下午 4-傍晚 5-夜间
    "start_time":"07:00",
    "end_time":"08:00"
}
Response:
    - `status`：0->OK
                1->更新详情失败，无调用权利
                2->更新新增详情失败，无对应的work_id
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
  
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

#### 9.4.11 作息模版详情删除接口
> 作息模版详情删除接口可以删除指定模版的详细条目

> 作息模版详情删除接口需要使用Token验证查询者身份

``` json
Url:        /qxy/delworkrule
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'work_id':            需要删除详情对应的模版编号
    - 'work_rule_id'：      删除详情对应的id
    - 'token'：             token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df",
    "work_id":"1234",
    "work_rule":[
        {
            "work_rule_id":"123"
        },
        {
            "work_rule_id":"151"
        }
    ]
}
Response:
    - `status`：0->OK
                1->删除详情失败，无调用权利
                2->删除详情失败，无对应的work_id
                3->删除详情失败，无对应的work_rule_id
               11->token is invalid
               12->token is timeout
               13->Illegal interface calls, not power use interface
```

> **返回结果示例：**

``` json
{
    "status": 0,
    "info":ok
}
```

### 9.5年级标签管理
####9.5.1 班级年级标签查询接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/gradelabel/type=[type]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - `type`:   如果不传返回也是有效的年级标签，0-返回有效的年级标签，1-返回所有的年级标签
Response:
    - `staus`： 0->OK 
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "data":{
        "count":"2",
        "type":1,
        "grade": [
            {
                "grade_id":"1",
                "grade_n":"高三"
                "is_use":"0"
            },
            {
                "grade_id":"2",
                "grade_n":"高二"
                "is_use":"1"
            }
        ]
    }
}
```
#### 9.5.2 班级年级标签新增接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/addgradelabel
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'grade_n':   年级标签名字
    - 'token':     token
Response:
    - `staus`： 0->OK 
				1->新增失败，无权限
				2->新增失败，年级标签已存在
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "info":ok
}
```



#### 9.5.3 班级年级标签修改接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/upgradelabel
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'grade_id':  年级标签id
    - 'grade_n':   年级标签名字
    - 'token':     token
Response:
    - `staus`： 0->OK 
				1->更新失败，无权限
				2->更新失败，年级标签已存在
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "info":ok
}
```
#### 9.5.4 班级年级标签删除接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/delgradelabel
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'grade_id':  年级标签id
    - 'grade_n':   年级标签名字
    - 'token':     token
Response:
    - `staus`： 0->OK 
				1->删除失败，无权限
				2->删除失败，该年级标签不存在
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "info":ok
}
```

#### 9.5.5 班级年级标签停用（启用）接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/setgradelabel
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'grade_id':  年级标签id
    - 'is_use':    0-停用，1-启用  
    - 'token':     token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df",
    "is_use":"0",
    "grade":[
        {
            "grade_id":"1234"
        },
        {
            "grade_id":"1"
        }
    ]
}
Response:
    - `staus`： 0->OK 
				1->停用/启用失败，无权限
				2->停用/启用失败，年级标签已存在
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "info":ok
}
```

### 9.6 学校设备管理页面接口
#### 9.6.1 设备查询接口
> RFID标签查询接口返回对应的学校RFID标签读卡器设置信息，无分页功能

> 需要使用Token验证查询者身份

``` json
Url:        /qxy/deviceinfo/sid=[sid]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - 'sid':    学校id,不传会返回所有的设备
Response:
    - `staus`： 0->token is OK 
                10->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface
    - `device`:  安装地点内容JSON
    - `count`:  安装地点总数
    - `device_id`:设备id
    - `device_name`:设备名称
    - `school_n`:学校名称
    - `username`:设备账号
    - `password`:设备密码
```

> **返回结果示例：**

``` json
{
    "staus": 0,
    "data":{
        "count":"2",
        "device": [
            {
                "device_id":"1526253653",
                "device_name":"校门2",
                "school_n":"武汉一中",
                "username":"mark",
                "password":"125425"
            },
            {
                "device_id":"1526253652",
                "device_name":"校门1",
                "school_n":"武汉一中",
                "username":"mark1",
                "password":"1254252"
            }
        ]
    }
}
```
#### 9.6.2 设备新增接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/adddeviceinfo
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'device_id':    设备id
    - 'sid':          学校id
    - 'device_name':  设备名字   
    - 'username':     设备账号
    - 'password':     设备密码
    - 'token':        token
Response:
    - `staus`： 0->OK 
				1->新增失败，无权限
				2->新增失败，该设备已存在
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "info":ok
}
```

#### 9.6.3 设备修改接口
> 需要使用Token验证查询者身份

``` json
Url:        /qxy/updeviceinfo
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'id':           设备标签表自增id
    - 'device_id':    设备id
    - 'sid':          学校id
    - 'device_name':  设备名字   
    - 'username':     设备账号
    - 'password':     设备密码
    - 'token':        token
Response:
    - `staus`： 0->OK 
				1->更新失败，无权限
				2->更新失败，该设备已存在
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "info":ok
}
```

#### 9.6.4 设备删除接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/deldeviceinfo
Method:     PUT
Header:     Content-type:application/json
Parameter:
    - 'device_id':           设备id
    - 'token':        token
示例：
{
    "token":"fcc277636dea80d3d298df9465795a875e6eb9df",
    "device":[
        {
            "device_id":"12"
        },
        {
            "device_id":"13"
        }
    ]
}
Response:
    - `staus`： 0->OK 
				1->删除失败，无权限
				2->删除失败，该设备已被删除
                11->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface    
```

> **返回结果示例：**
``` json
{
    "staus": 0,
    "info":ok
}
```

#### 9.6.5 设备报警查询接口
> 需要使用Token验证查询者身份
``` json
Url:        /qxy/devicealarm/page=[page]&token=[token]
Method:     GET
Header:     Content-type:application/json
Parameter:
    - 'sid':    学校id,不传会返回所有的设备
    - 'page':   page为分页的页面值，当page为空时，返回所有数据，每页返回20条数 
Response:
    - `staus`： 0->token is OK 
                10->token is invalid
                12->token is timeout
                13->Illegal interface calls, not power use nterface
    - `device`:  安装地点内容JSON
    - `count`:  安装地点总数
    - `device_id`:设备id
    - `device_name`:设备名称
    - `school_n`:学校名称
    - `username`:设备账号
    - `password`:设备密码
    - `send_time`:心跳包触发时间
    - `alarm_information`:报警信息
    - `alarm_time`:告警时间
    - `count`:总数
    - `page`:分页
```

> **返回结果示例：**

``` json
{
    "staus": 0,
    "data":{
        "device_id":"1526253653",
        "device_name":"校门2",
        "school_n":"学校名称",
        "username":"mark",
        "password":"125425",
	    "page":"0",
        "count":"23",
        "devicealarm": [
            {
                "id":"3",
                "send_time":"1475256254",
                "alarm_information":"武汉一中",
                "alarm_time":"1478525562"
            },
            {

                "id":"3",
                "send_time":"1475256254",
                "alarm_information":"武汉一中",
                "alarm_time":"1478525562"
            }
        ]
    }
}
```

### 9.7.1 权限管理接口
>暂无